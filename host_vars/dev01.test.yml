enable_os_update: true
enable_extra_packages: true
enable_extra_packages_tui: true
enable_extra_packages_desktop: true

starship: true
tmux: true
fonts: true
eza: true
tldr: true

extra_packages: 
  - curl
  - wget
  - git
  - nano
  - python3
  - python3-pip
  - apt-transport-https
  - ca-certificates

extra_packages_tui: 
  - jq
  - htop
  - unzip
  - plocate
  - neovim
  - ripgrep
  - fd-find
  - fzf
  - bat

## Firewall 
enable_ufw: true
enable_ufw_deny_out: true

open_ports:
  - { src: any, dest: any, port: '22', proto: 'tcp', direction: out, comment: 'SSH' }
  - { src: any, dest: any, port: '53', proto: any, direction: out, comment: 'DNS' }
  - { src: any, dest: any, port: '123', proto: 'udp', direction: out, comment: 'NTP' }
  - { src: any, dest: any, port: '80', proto: 'tcp', direction: out, comment: 'http' }
  - { src: any, dest: any, port: '443', proto: 'tcp', direction: out, comment: 'https' }

  - { src: 'any', dest: '', port: '22', proto: 'tcp', direction: in, comment: 'SSH # KVM / vagrant on localhost' }

  - { src: '192.168.56.0/24', dest: '', port: '80', proto: 'tcp', direction: in, comment: 'http any' } #HTTP
  - { src: '192.168.56.0/24', dest: '', port: '443', proto: 'tcp', direction: in, comment: 'https any' } #HTTPS
  - { src: '192.168.56.0/24', dest: '', port: '5001', proto: 'tcp', direction: in, comment: 'Dockge' } #Dockge

  - { src: '172.17.0.0/16', dest: '172.17.0.0/16', port: , proto: 'any', direction: out, comment: 'Docker' } #Docker
  - { src: '172.17.0.0/16', dest: '172.17.0.0/16', port: , proto: 'any', direction: in, comment: 'Docker' } #Docker

  - { src: any, dest: any, port: '41641', proto: udp, direction: out, comment: 'tailscale' } #https://tailscale.com/kb/1130/lxc-unprivileged
  - { src: any, dest: any, port: '3478', proto: udp, direction: out, comment: 'tailscale' }
  - { src: any, dest: any, port: '41641', proto: udp, direction: in, comment: 'tailscale' }
  - { src: any, dest: any, port: '3478', proto: udp, direction: in, comment: 'tailscale' }

users:

  - name: deploy
    comment: System Administration
    password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66653831353765333338303931613132613863653231396365346234616462643365373665356230
          3461626266616538646161653631346235646633616232650a316161663933653865323538383861
          39616532623566353738343933353232346466333861323737313336626666393233646338643265
          3535643362626530640a336261323637613437306561366362366131373530356431643136666466
          39626136663135333231393731313065353638343764663336366131363630346663393461663863
          37386636336562323236636134323030613432623736626236386638326237353164363963396132
          64643562313666633864323635636332376233303563643462303166626331366534636639666132
          66336333623062373633343765663865646661313362653264353563653763633533626437333830
          35373665613436646161373038623733626530366561313262383662643566656563
    groups:
      - sudo
    ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIG5iPUMbwcXyBjEp3rJA/d7Qv4HRo83BXo5az0H74kzj

  - name: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31356334323130633966616431343334633934663234323438346364306134643439343165656532
          6235396435383462303437646363613934623633333730390a393133636336643435663733636465
          64343939386538623737626632613535643632623866353039616131316233633734336339626333
          3965613233656130330a303835346362336161383736633434373334373430336464316632633966
          6430
    comment: System User
    password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          35343265393839626131313831326364633263643363653038386461336332393738666132313133
          3263643330356132313739396235383633386533313436380a376132376333336138646431376165
          61646261366430343166343462633665366337633131633361623735336335323634396530623933
          3032636266663265640a656437366662666163636561636336313366333135643139376137656432
          33346438353734633432383061326434326665383461346664346531303333343436323831616235
          36346538313931626132636235613330633036336338306530393534353333343030646432323663
          33373661386665313766653166613136643861646336333563333361613534306234653561666337
          32303064396561333361343832383231623663303365363538333332363538643635323231656664
          64316566343031396265356135636664323131303130613430326563666264326436
    groups:
      - sudo
    ssh_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIGr//oYSrumw4PR7+dY1LVwhAkn29mECyrt1q5jyM3VR

sudoers: ['deploy']
